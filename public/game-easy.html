<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>HTML-Game-Easy</title>
    <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.5/js/materialize.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.5/css/materialize.min.css">
    <style>
    </style>
</head>
<body>
    <div id="box2">
        <h6>PLAY N' LEARN</h6>
    </div>
    <div id="fillInTheBlanks">
        <div id ="gameArea" tabindex="1">
        </div>
    </div>
</body>
<script>
    var htmlEasyQuestionArray = [
        {
            question: "What does HTML stand for? Hyper Text Markup __________",
            answer: "language"
        } , {
            question: "The ________ is the main section of the HTML code",
            answer: "body"
        }]
    var currentQuestion = 0;
    var answer;
    var quizLength = htmlEasyQuestionArray.length
    var guessed = false;

function fillInTheBlanks(){
    $("#gameArea").empty();
    $("#gameArea").append('<h1> HTML Quiz </h1>')
    $("#gameArea").append('<p> Type in your answer and press Enter</p>');
    $("#gameArea").append('<p id="questionBox"></p>');
    $("#gameArea").append('<div class="input-field"><input type="text" id="inputBox"></div>'); 
    $("#gameArea").append('<div id="feedback"></div>');
    $("#gameArea").append('<div id="gifDiv"></p>');
}

function updateQuestion(){
    $('#questionBox').empty();
    $('#questionBox').append(htmlEasyQuestionArray[currentQuestion].question);
    $('#inputBox').val('');
    answer = htmlEasyQuestionArray[currentQuestion].answer;
}

function checkProgess(){
    currentQuestion ++;
    if (currentQuestion < quizLength){
        updateQuestion();
    } else {
        gameOver();
    }
};

function checkAnswer(){
    let guess = document.getElementById("inputBox").value.toLowerCase().trim();
    guessed = true;
    if (guess !== answer){
        $("#feedback").append('<p> Incorrect. The correct answer is: ' + answer + '</p>');
    } else {
        $("#feedback").append('<p> Correct! Good Job</p>');
    }
    $("#feedback").append('<button id="next" class="button"> NEXT </button>')
};

function gameOver(){
    $("#gameArea").empty();
    $("#gameArea").append('<h3> Congratulations! You have completed Fill in the Blanks! </h3>');
    $("#gameArea").append('<p> Click the Button to mave on to the next game </p>');
    $("#gameArea").append('<a><button id="newGame" class="button"> New Game </button></a>  ')
}

$(document).on("click", "#next", function(){
    checkProgess();
    $("#feedback").empty();
    guessed = false;
})

$(document).on("keyup",function(e){
    e.preventDefault();
    if(e.which==13 && guessed === false){
        checkAnswer()
    } else if(e.which==13 && guessed === true){
        document.getElementById("next").click();
    }
});

fillInTheBlanks();
updateQuestion();

</script>
</html>